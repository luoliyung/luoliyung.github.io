---
layout:     post
title:      利用切面和注解实现基于Redis的分布式锁
subtitle:   
date:       2018-05-08
author:     立勇同学
header-img: img/post-bg-BJJ.jpg
catalog: true
tags:
    - BJJ
---

- 何为分布式锁？
  当多个线程或进程需要读写某个共享数据时，就需要通过锁来控制各线程或进程间对该数据的同步访问。这个锁可以是线程锁，也可以是进程锁，不同进程间因为各进程间无法访问其它进程的数据，后面会有单独的文章来介绍这部分内容。
  如果是单机场景，可以通过synchronizd对代码块加锁来控制线程间的同步，
  其原理就是通过一个共享的Lock变量来告知各线程当前应该执行何种操作，若Lock空闲，则拿到它，并且程序往下执行，完成后释放；若Lock正在被其它线程持有，则排队等待或结束线程。
  
  如果同一个应用部署在多台服务器下，通过synchronized加锁是不奏效的。